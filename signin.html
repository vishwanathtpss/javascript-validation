<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <script src="js/main.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="float">
        <a href="form.html">Sign Up</a>
      </div>
      <div class="row">
        <div class="col">
          <form action="" class="signIn">
            <h3>Login</h3>
            <label for="userName">Email</label>
            <input
              type="email"
              name="login_email"
              id="userName"
              class="form-control"
            />
            <p class="login_email"></p>
            <label for="userPw">Password</label>
            <input
              type="password"
              name="login_password"
              id="userPw"
              class="form-control"
              autocomplete="on"
            />
            <input
              type="submit"
              value="submit"
              onclick="check()"
              class="form-control btn btn-info mt-10"
              style="margin-top: 10px"
            />
            <div id="remember">
              <input
                type="checkbox"
                value="lsRememberMe"
                id="rememberMe"
                style="display: inline-block"
              />
              <label>Remember me</label>
            </div>
          </form>
        </div>
        <div class="col"></div>
      </div>
    </div>
    <script>
        document.forms["custom_form"].onsubmit = function (event) {
    event.preventDefault();
    var name = document.custom_form.username.value.trim();
    var email = document.custom_form.email.value.trim();
    var password = document.custom_form.password.value.trim();
    var regName = /^[a-zA-Z]/;
    var nameValid = regName.test(name);
    if (!nameValid) {
      document.querySelector(".nameError").innerHTML =
        "Please enter a username";
      document.querySelector(".nameError").style.display = "block";
      document.querySelector(".nameError").style.color = "red";
    } else {
      // sessionStorage.getItem('Names name');
      document.querySelector(".nameError").style.display = "none";
      localStorage.setItem('name', name);
    
    }
    const regex =
      /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    var emailValid = regex.test(email);
    if (email === "" && !emailValid) {
      document.querySelector(".email-error").innerHTML =
        "Please enter a email";
      document.querySelector(".email-error").style.display = "block";
      document.querySelector(".email-error").style.color = "red";
    } else {
      document.querySelector(".email-error").style.display = "none";
      
      localStorage.setItem('email', email);
    }
    var regpassword =
      /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/;
    validpassword = regpassword.test(password);
    if (!validpassword) {
      document.querySelector(".password-error").innerHTML =
        "Password is not valid ";
      document.querySelector(".password-error").style.display = "block";
      document.querySelector(".password-error").style.color = "red";
    } else {
      document.querySelector(".password-error").style.display = "none";
      localStorage.setItem('password', password);
    }
  };
   function check(){
      var storedName = localStorage.getItem('name');
      console.log(storedName)
      var storedName = localStorage.getItem('email');
      var storedName = localStorage.getItem('password');
      var userName = document.getElementById('userName');
      var userPw = document.getElementById('userPw');
     var userRemember = document.getElementById("rememberMe")
            if(userName.value == storedName && userPw.value == storedPw){
                alert('You are logged in.');
            }else{
                alert('Error on login');
            }
       }
    </script>
  </body>
</html>
